<!-- Header con volver -->
<header class="top-bar d-flex align-items-center px-3 py-2 bg-white">
  <a (click)="goBack()" class="d-flex align-items-center text-decoration-none text-secondary" style="cursor:pointer;">
    <span class="mr-1">&larr;</span> Volver
  </a>
  <img src="/assets/images/ICONOnotificacion.png" alt="Notificaciones" class="notif-icon ml-auto" />
</header>

<main class="centro-wrapper d-flex flex-column align-items-center py-4">
  <!-- Tag con datos seleccionados -->
  <div class="filter-summary d-flex align-items-center mb-4 px-4 py-2" *ngIf="dateStr">
    <span class="font-weight-bold text-capitalize">{{ sport }} — {{ dateStr }} a las {{ time }} hrs.</span>
  </div>

  <!-- Search & refresh -->
  <div class="d-flex justify-content-between align-items-center w-100 px-3 mb-3" style="max-width:900px;">
    <input class="form-control me-2" placeholder="Buscar centro deportivo…" [(ngModel)]="searchTerm" style="max-width:50%;">
    <select class="form-select me-2" [(ngModel)]="selectedComuna" style="max-width:25%;">
      <option value="" disabled selected>Comuna…</option>
      <option *ngFor="let c of comunas" [value]="c">{{c}}</option>
    </select>
    <button class="btn btn-primary" (click)="buscarComuna()">Ingresar</button>
  </div>

  <h5 class="w-100 px-3 mb-3 font-weight-bold" style="max-width:900px;">Selecciona un centro deportivo y un espacio disponible</h5>

  <!-- Lista de centros placeholder -->
  <section class="centers-list w-100 px-3" style="max-width:900px;">
    <div *ngFor="let c of filteredCenters" class="center-card mb-4">
      <div class="card-img"
           [style.backgroundImage]="'url(' + (c.img ? c.img : (c.imagen ? c.imagen : '/assets/images/CentroDeportivo.gif')) + ')'">
        <span *ngIf="c.externo" class="badge bg-warning position-absolute m-2">Google</span>
      </div>
      <div class="card-body p-3">
        <h6 class="mb-1 fw-bold">{{ c.nombre }}</h6>
        <small class="text-muted">{{ c.direccion }}</small>
      </div>
    </div>
  </section>
  <p class="small text-muted mt-2" *ngIf="hasExtern">
    Datos externos © Google Places
  </p>
</main>

<!-- Footer nav estándar -->
<footer class="bottom-nav d-flex justify-content-around px-3 py-2">
  <a routerLink="/usuario" class="nav-item text-center text-dark">
    <img src="/assets/images/ICONOgps.png" alt="Inicio" class="nav-icon"><br>
    <small>INICIO</small>
  </a>
  <a routerLink="/usuario/reservas" class="nav-item text-center text-dark">
    <img src="/assets/images/ICONOreservar.png" alt="Reservas" class="nav-icon"><br>
    <small>RESERVAS</small>
  </a>
  <a routerLink="/usuario/perfil" class="nav-item text-center text-dark">
    <img src="/assets/images/ICONOperfil.png" alt="Perfil" class="nav-icon"><br>
    <small>PERFIL</small>
  </a>
</footer> 